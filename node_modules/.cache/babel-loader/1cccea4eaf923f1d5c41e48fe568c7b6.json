{"remainingRequest":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/babel-loader/lib/index.js!/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/vuetify-loader/lib/loader.js!/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/src/components/Signup2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/src/components/Signup2.vue","mtime":1548081918932},{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/Tekclas/Projects/Bears App/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport slugify from \"slugify\";\nimport db from \"@/fb\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport default {\n  name: \"Signup\",\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\",\n      username: \"\",\n      slug: \"\",\n      feedback: \"\",\n      show1: false,\n      show2: true,\n      show3: false,\n      show4: false\n    };\n  },\n  methods: {\n    signup: function signup() {\n      var _this = this;\n\n      if (this.username && this.email && this.password) {\n        this.feedback = null;\n        this.slug = slugify(this.username, {\n          replacement: '-',\n          remove: /[$*_+~.()'\"!\\-:@]/g,\n          lower: true\n        });\n        var ref = db.collection('users').doc(this.slug);\n        ref.get().then(function (doc) {\n          if (doc.exists) {\n            _this.feedback = 'This alias already exists';\n          } else {\n            // this alias does not yet exists in the db\n            firebase.auth().createUserWithEmailAndPassword(_this.email, _this.password).then(function (cred) {\n              ref.set({\n                username: _this.username,\n                geolocation: null,\n                user_id: cred.user.uid\n              });\n            }).then(function () {\n              _this.feedback = 'User Name Added Ya Digg';\n            }).then(function () {\n              _this.$router.push({\n                name: 'Team'\n              });\n            }).catch(function (err) {\n              _this.feedback = err.message;\n            });\n          }\n        });\n      } else {\n        this.feedback = 'Please fill in all fields';\n      }\n    }\n  }\n};",{"version":3,"sources":["Signup2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,OAAA,OAAA,MAAA,SAAA;AACA,OAAA,EAAA,MAAA,MAAA;AAEA,OAAA,QAAA,MAAA,cAAA;AAEA,OAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,KANA;AAOA,MAAA,KAAA,EAAA,IAPA;AAQA,MAAA,KAAA,EAAA,KARA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,aAAA,IAAA,GAAA,OAAA,CAAA,KAAA,QAAA,EAAA;AACA,UAAA,WAAA,EAAA,GADA;AAEA,UAAA,MAAA,EAAA,oBAFA;AAGA,UAAA,KAAA,EAAA;AAHA,SAAA,CAAA;AAMA,YAAA,GAAA,GAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,KAAA,IAAA,CAAA;AACA,QAAA,GAAA,CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,2BAAA;AAAA,WADA,MAGA;AACA;AACA,YAAA,QAAA,CAAA,IAAA,GAAA,8BAAA,CAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,QAAA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AAEA,cAAA,GAAA,CAAA,GAAA,CAAA;AACA,gBAAA,QAAA,EAAA,KAAA,CAAA,QADA;AAEA,gBAAA,WAAA,EAAA,IAFA;AAGA,gBAAA,OAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AAHA,eAAA;AAKA,aATA,EASA,IATA,CASA,YAAA;AACA,cAAA,KAAA,CAAA,QAAA,GAAA,yBAAA;AACA,aAXA,EAWA,IAXA,CAWA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAbA,EAcA,KAdA,CAcA,UAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,OAAA;AACA,aAhBA;AAiBA;AACA,SAxBA;AAyBA,OAlCA,MAkCA;AACA,aAAA,QAAA,GAAA,2BAAA;AACA;AACA;AAvCA;AAfA,CAAA","sourcesContent":["<template>\n  <v-dialog max-width=\"600px\">\n    <v-btn fab slot=\"activator\" color=\"black lime\n--text\">\n      <v-icon large>add_circle</v-icon>\n    </v-btn>\n    <v-card>\n      <v-card-title>\n        <h2>Sign UP</h2>\n      </v-card-title>\n      \n      <v-card-text> \n        <v-form v-on:submit.prevent=\"signup\" class=\"px-3\" ref=\"form\">\n         \n          <v-text-field\n            v-model=\"username\"\n            label=\"User Name\"\n            prepend-icon=\"person\"\n            color=\"orange\"\n            hint=\"Must be unique\">\n          </v-text-field>\n          \n          <v-text-field \n           v-model=\"email\" \n           label=\"Email\" \n           prepend-icon=\"email\"\n           hint=\"Use your favorie email\">\n          </v-text-field>\n          \n          <v-text-field\n            v-model=\"password\"\n            label=\"Create Password\"\n            :append-icon=\"show1 ? 'visibility_off' : 'visibility'\"\n            :type=\"show1 ? 'text' : 'password'\"\n            name=\"input-10-1\"\n            prepend-icon=\"security\"\n            color=\"blue\"\n            hint=\"Must be at least 6 characters don't fuck around\"\n            counter\n            @click:append=\"show1 = !show1\">\n          </v-text-field>\n\n          <p class=\"pl-2 red--text\" v-if=\"feedback\">{{feedback}}</p>\n\n          <v-spacer></v-spacer>\n\n          <v-btn flat @click.prevent=\"signup\" class=\"success mx-0 mt-3\">Sign up</v-btn>\n       \n         </v-form>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport slugify from \"slugify\";\nimport db from \"@/fb\";\n\nimport firebase from \"firebase/app\";\n\nimport \"firebase/auth\";\n\nexport default {\n  name: \"Signup\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      username: \"\",\n      slug: \"\",\n      feedback: \"\",\n      show1: false,\n      show2: true,\n      show3: false,\n      show4: false\n    };\n  },\n  methods: {\n    signup() {\n      if(this.username && this.email && this.password){\n        this.feedback = null\n        this.slug = slugify(this.username, {\n          replacement: '-',\n          remove: /[$*_+~.()'\"!\\-:@]/g,\n          lower: true\n        })\n          \n      let ref = db.collection('users').doc(this.slug)\n        ref.get().then(doc => {\n          if(doc.exists){\n            this.feedback = 'This alias already exists'}\n            \n               else {\n          // this alias does not yet exists in the db\n            firebase.auth().createUserWithEmailAndPassword(this.email, this.password)\n                   \n           .then(cred => {\n                \n              ref.set({\n                username: this.username,\n                geolocation: null,\n                user_id: cred.user.uid\n              })\n            }).then(() => {\n              this.feedback = 'User Name Added Ya Digg'\n            }).then(() => {\n              this.$router.push({ name: 'Team' })\n            })\n            .catch(err => {\n              this.feedback = err.message\n            })\n          }\n        })\n      } else {\n        this.feedback = 'Please fill in all fields'\n      }\n    }\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}