{"remainingRequest":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mariorodriguez/Documents/tekclasvue/src/components/Signup2.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/mariorodriguez/Documents/tekclasvue/src/components/Signup2.vue","mtime":1547878690732},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariorodriguez/Documents/tekclasvue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.signup{\n  max-width: 400px;\n  margin-top: 60px;\n}\n.signup h2{\n  font-size: 2.4em;\n}\n.signup .field{\n  margin-bottom: 16px;\n}\n",{"version":3,"sources":["Signup2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup2.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"signup container\">\n    <form class=\"card-panel\" @submit.prevent=\"signup\">\n      <h2 class=\"center deep-purple-text\">Signup</h2>\n      <div class=\"field\">\n        <label for=\"email\">Email</label>\n        <input id=\"email\" type=\"email\" v-model=\"email\">\n      </div>\n      <div class=\"field\">\n        <label for=\"password\">Password</label>\n        <input id=\"password\" type=\"password\" v-model=\"password\">\n      </div>\n      <div class=\"field\">\n        <label for=\"name\">Alias</label>\n        <input id=\"name\" type=\"text\" v-model=\"alias\">\n      </div>\n      <p v-if=\"feedback\" class=\"red-text center\">{{ feedback }}</p>\n      <div class=\"field center\">\n        <button class=\"btn deep-purple\">Signup</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport db from '@/fb'\nimport slugify from 'slugify'\nimport firebase from 'firebase'\nexport default {\n  name: 'Signup',\n  data(){\n    return{\n      email: null,\n      password: null,\n      alias: null,\n      feedback: null,\n      slug: null\n    }\n  },\n  methods: {\n    signup(){\n      if(this.alias && this.email && this.password){\n        this.feedback = null\n        this.slug = slugify(this.alias, {\n          replacement: '-',\n          remove: /[$*_+~.()'\"!\\-:@]/g,\n          lower: true\n        })\n        let ref = db.collection('users').doc(this.slug)\n        ref.get().then(doc => {\n          if(doc.exists){\n            this.feedback = 'This alias already exists'\n          } else {\n          // this alias does not yet exists in the db\n            firebase.auth().createUserWithEmailAndPassword(this.email, this.password)\n            .catch(err => {\n              console.log(err.message)\n              this.feedback = err.message\n            })\n          }\n        })\n      } else {\n        this.feedback = 'Please fill in all fields'\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.signup{\n  max-width: 400px;\n  margin-top: 60px;\n}\n.signup h2{\n  font-size: 2.4em;\n}\n.signup .field{\n  margin-bottom: 16px;\n}\n</style>"]}]}